"0","# Example disjoint circles"
"0","circle_A <- st_buffer(st_point(c(0, 0)), dist = 1)"
"0","circle_B <- st_buffer(st_point(c(2.2, 0)), dist = 1)"
"0",""
"0","intersect_region <- st_intersection(circle_A, circle_B)"
"0","union_region     <- st_union(circle_A, circle_B)"
"0",""
"0","# Function to add a rectangle background"
"0","add_box <- function(p) {"
"0","  p + "
"0","    geom_rect(aes(xmin=-1.3, xmax=3.4, ymin=-1.2, ymax=1.7), "
"0","              fill = NA, color = ""black"", linewidth = 1)  # box border"
"0","}"
"0",""
"0","## INTERSECTION"
"0","p_intersection <- ggplot() +"
"0","  geom_sf(data = st_sfc(circle_A), fill = NA, color = ""black"", linewidth = 1) +"
"0","  geom_sf(data = st_sfc(circle_B), fill = NA, color = ""black"", linewidth = 1) +"
"0","  # nothing to shade for intersection"
"0","  annotate(""text"", x = -.7, y = 1.2, label = ""A"", size = 6) +"
"0","  annotate(""text"", x = 2.9, y = 1.2, label = ""B"", size = 6) +"
"0","  labs(caption = ""A and B"") +"
"0","  theme_void() +"
"0","  theme(plot.caption = element_text(size = 16, hjust = 0.5))"
"0",""
"0","p_intersection <- add_box(p_intersection)"
"0",""
"0","## UNION"
"0","p_union <- ggplot() +"
"0","  geom_sf(data = union_region, fill = ""lightgreen"", alpha = 0.6, color = NA) +"
"0","  geom_sf(data = st_sfc(circle_A), fill = NA, color = ""black"", linewidth = 1) +"
"0","  geom_sf(data = st_sfc(circle_B), fill = NA, color = ""black"", linewidth = 1) +"
"0","  annotate(""text"", x = -.7, y = 1.2, label = ""A"", size = 6) +"
"0","  annotate(""text"", x = 2.9, y = 1.2, label = ""B"", size = 6) +"
"0","  labs(caption = ""A or B"") +"
"0","  theme_void() +"
"0","  theme(plot.caption = element_text(size = 16, hjust = 0.5))"
"0",""
"0","p_union <- add_box(p_union)"
"0",""
"0","# Arrange side by side"
"0","grid.arrange(p_intersection, p_union, ncol = 2)"
